{"version":3,"sources":["StateProvider.js","firebase.js","Header.js","Product.js","Home.js","Login.js","reducer.js","Subtotal.js","CheckoutProduct.js","Checkout.js","App.js","index.js"],"names":["StateContext","createContext","StateProvider","reducer","initialState","children","Provider","value","useReducer","useStateValue","useContext","auth","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","Header","basket","user","className","to","src","alt","type","onClick","signOut","email","length","Product","id","title","image","price","rating","dispatch","Array","fill","map","_","item","Home","Login","history","useHistory","useState","setEmail","password","setPassword","onChange","event","target","preventDefault","signInWithEmailAndPassword","then","push","catch","e","alert","message","createUserWithEmailAndPassword","getBasketTotal","reduce","amount","state","action","console","log","index","findIndex","basketItem","newBasket","splice","warn","Subtotal","renderText","decimalScale","displayType","thousandSeperator","prefix","CheckoutProduct","hideButton","i","Checkout","App","useEffect","unsubscribe","onAuthStateChanged","authUser","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9180ef44.chunk.js","sourcesContent":["import React, { createContext, useContext, useReducer } from \"react\";\r\n\r\nexport const StateContext = createContext();\r\n\r\n// Build a provider\r\nexport const StateProvider = ({ reducer, initialState, children }) => (\r\n<StateContext.Provider value={useReducer(reducer, initialState)}>\r\n    {children}\r\n\r\n</StateContext.Provider>\r\n);\r\n\r\nexport const useStateValue = () => useContext(StateContext); ","import firebase from \"firebase\";\r\n\r\nconst firebaseApp = firebase.initializeApp ({\r\n\r\n  apiKey: \"AIzaSyDkOVBwnwG3JLHFQU5iv26zAhRvKI2TbkQ\",\r\n  authDomain: \"clone-9b4a6.firebaseapp.com\",\r\n  databaseURL: \"https://clone-9b4a6.firebaseio.com\",\r\n  projectId: \"clone-9b4a6\",\r\n  storageBucket: \"clone-9b4a6.appspot.com\",\r\n  messagingSenderId: \"17121879252\",\r\n  appId: \"1:17121879252:web:0540b20805674bf5068741\",\r\n  measurementId: \"G-ZHMG7Z0D9B\"\r\n\r\n});\r\n\r\nconst db = firebaseApp.firestore();\r\nconst auth = firebase.auth();\r\n\r\nexport { db, auth };","import React from 'react';\r\nimport \"./Header.css\";\r\nimport { Link } from \"react-router-dom\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport ShoppingBasketIcon from \"@material-ui/icons/ShoppingBasket\"; \r\nimport { useStateValue } from \"./StateProvider\";\r\nimport { auth } from \"./firebase\";\r\n\r\nfunction Header() {\r\n\r\n   const [{ basket, user }, dispatch] = useStateValue();\r\n   const login = () => {\r\n      if (user) {\r\n         auth.signOut();\r\n      }\r\n   }\r\n\r\n    return ( \r\n    <nav className=\"header\">\r\n      <Link to=\"/\">\r\n       <img \r\n        className=\"header_logo\" \r\n        src=\"http://pngimg.com/uploads/amazon/amazon_PNG11.png\"\r\n         alt=\"\"\r\n      />\r\n      </Link>\r\n      \r\n       \r\n       <div className=\"header_search\">\r\n       <input type=\"text\" className=\"header_searchInput\"/>\r\n       <SearchIcon className=\"header_searchIcon\" />\r\n        </div>\r\n       \r\n         <div className=\"header_nav\">\r\n       \r\n            <Link to={!user && \"/login\"} className=\"header_link\">\r\n            <div onClick={login} className=\"header_option\">\r\n            <span className=\"header_optionLineOne\">Hello {user?.email}</span>\r\n            <span className=\"header_optionLineTwo\">{user ? \"Sign Out\" : \"Sign in\"}</span>\r\n           </div>\r\n            </Link>\r\n      \r\n       \r\n       <Link to=\"/login\" className=\"header_link\">\r\n            <div className=\"header_option\">\r\n            <span className=\"header_optionLineOne\">Returns</span>\r\n            <span className=\"header_optionLineTwo\">& Orders</span>\r\n           </div>\r\n            </Link>\r\n       \r\n       \r\n       <Link to=\"/login\" className=\"header_link\">\r\n            <div className=\"header_option\">\r\n            <span className=\"header_optionLineOne\">Your</span>\r\n            <span className=\"header_optionLineTwo\">Prime</span>\r\n           </div>\r\n            </Link>\r\n\r\n\r\n       <Link to=\"/checkout\" className=\"header_link\">\r\n           <div className=\"header_optionBasket\">\r\n               <ShoppingBasketIcon />\r\n              <span className=\"header_optionLineTwo header_basketCount\">\r\n               {basket?.length}\r\n              </span>\r\n           </div>\r\n            </Link>\r\n\r\n\r\n         </div>\r\n       </nav>\r\n    );\r\n    \r\n}\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\nimport \"./Product.css\";\r\nimport { useStateValue } from \"./StateProvider\";\r\n\r\nfunction Product({ id, title, image, price, rating }) {\r\n const [{ basket }, dispatch] = useStateValue();\r\n  const addToBasket = () => {\r\n   dispatch({\r\n     type: \"ADD_TO_BASKET\",\r\n     item: {\r\n       id: id,\r\n       title: title,\r\n       image: image,\r\n       price: price,\r\n       rating: rating,\r\n     },\r\n     \r\n   });\r\n\r\n  }; \r\n  \r\n  return (\r\n    <div className=\"product\">\r\n      <div className=\"product__info\">\r\n      <p>{title}</p>\r\n        <p className=\"product__price\">\r\n            <small>$</small>\r\n            <strong>{price}</strong> \r\n        </p>\r\n      <div className=\"product__rating\"> \r\n      \r\n          {Array(rating)\r\n          .fill()\r\n          .map((_) => (\r\n          <p>🌟</p>\r\n          ))}\r\n        </div>\r\n      </div>\r\n        \r\n          <img src={image} alt=\"\" />\r\n          <button onClick={addToBasket}>Add to basket</button>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Product;","import React from \"react\";\r\nimport Product from \"./Product\";\r\nimport \"./Home.css\";\r\n\r\n\r\n\r\nfunction Home() {\r\n    return (\r\n    <div className=\"home\">\r\n      <img\r\n      className=\"home_image\"\r\n       src=\"https://images-eu.ssl-images-amazon.com/images/G/02/digital/video/merch2016/Hero/Covid19/Generic/GWBleedingHero_ENG_COVIDUPDATE__XSite_1500x600_PV_en-GB._CB428684220_.jpg\"\r\n       alt=\"\"\r\n       /> \r\n\r\n       {/* Product  id, title, price, rating, image */}\r\n       <div className=\"home__row\">\r\n        <Product\r\n         id=\"12321341\"\r\n         title=\"The Lean Startup: How Constant Innovation Creates Radically Successful Businesses Paperback\"\r\n         price={11.96}\r\n         rating={5}\r\n         image=\"https://images-na.ssl-images-amazon.com/images/I/51Zymoq7UnL._SX325_BO1,204,203,200_.jpg\"       \r\n        />\r\n         <Product\r\n            id=\"49538094\"\r\n            title=\"Kenwood kMix Stand Mixer for Baking, Stylish Kitchen Mixer with K-beater, Dough Hook and Whisk, 5 Litre Glass Bowl\"\r\n            price={239.0}\r\n            rating={4}\r\n            image=\"https://images-na.ssl-images-amazon.com/images/I/81O%2BGNdkzKL._AC_SX450_.jpg\"\r\n          />\r\n         \r\n        </div>\r\n        \r\n        <div className=\"home__row\">\r\n        <Product\r\n            id=\"4903850\"\r\n            title=\"Samsung LC49RG90SSUXEN 49' Curved LED Gaming Monitor\"\r\n            price={199.99}\r\n            rating={3}\r\n            image=\"https://images-na.ssl-images-amazon.com/images/I/71Swqqe7XAL._AC_SX466_.jpg\"\r\n          />\r\n          <Product\r\n            id=\"23445930\"\r\n            title=\"4 Ib African yam tuber, Nigerian yam - Original😂\"\r\n            price={98.99}\r\n            rating={5}\r\n            image=\"https://images-na.ssl-images-amazon.com/images/I/41OYa-TeJjL._AC_.jpg\"\r\n          />\r\n          <Product\r\n            id=\"3254354345\"\r\n            title=\"New Apple iPad Pro (12.9-inch, Wi-Fi, 128GB) - Silver (4th Generation)\"\r\n            price={598.99}\r\n            rating={4}\r\n            image=\"https://images-na.ssl-images-amazon.com/images/I/816ctt5WV5L._AC_SX385_.jpg\"\r\n          />\r\n        </div>\r\n        \r\n        <div className=\"home__row\">\r\n        <Product\r\n            id=\"90829332\"\r\n            title=\"Samsung LC49RG90SSUXEN 49' Curved LED Gaming Monitor - Super Ultra Wide Dual WQHD 5120 x 1440\"\r\n            price={1094.98}\r\n            rating={4}\r\n            image=\"https://images-na.ssl-images-amazon.com/images/I/6125mFrzr6L._AC_SX355_.jpg\"\r\n          />\r\n         </div>\r\n\r\n\r\n\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Home;","import React, { useState } from \"react\";\r\nimport \"./Login.css\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { auth } from \"./firebase\";\r\n\r\nfunction Login() {\r\n    const history = useHistory();\r\n    const [email, setEmail] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n\r\n         \r\n    const login = (event) => {\r\n           event.preventDefault();\r\n         \r\n           auth.signInWithEmailAndPassword(email, password)\r\n          .then((auth) => {\r\n            history.push(\"/\");\r\n          })\r\n          .catch(e => alert(e.message));\r\n        };\r\n\r\n         const register = (event) => {\r\n            event.preventDefault();\r\n\r\n            auth.createUserWithEmailAndPassword(email, password)\r\n            .then((auth) => {\r\n                history.push(\"/\");    \r\n            })\r\n            .catch((e) => alert(e.message));\r\n          };\r\n \r\n\r\n    return (\r\n    <div className=\"login\">\r\n        <Link to=\"/\">\r\n        <img\r\n           className=\"login__logo\"\r\n           src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Amazon_logo.svg/1024px-Amazon_logo.svg.png\"\r\n           alt=\"\"\r\n           />\r\n        </Link>\r\n\r\n        <div className=\"login__container\">\r\n            <h1>Sign in</h1>\r\n            <form>\r\n                <h5>E-mail</h5>\r\n                <input value={email} onChange={event => setEmail(event.target.value)} type=\"email\"/>\r\n                <h5>Password</h5>\r\n                <input value={password} onChange={event => setPassword(event.target.value)} type=\"password\"/>\r\n               <button onClick={login} type=\"submit\" className=\"login__signInButton\">Sign In</button>\r\n            </form>\r\n\r\n            <p>\r\n                    By signing-in you agree to the amazon clone conditions of Use & Sale. Please\r\n                    see our Privacy Notice, our Cookies Notice and our Interest-Based Ads Notice (Dannyboy).\r\n                </p>\r\n         <button onClick={register} className='login__registerButton'>\r\n             Create your Amazon Account</button>\r\n        </div>\r\n       </div>\r\n    );\r\n}\r\n\r\nexport default Login;","export const initialState = {\r\n   basket: [],\r\n   user: null\r\n};\r\n\r\nexport const getBasketTotal = (basket) =>\r\nbasket?.reduce((amount, item) => item.price + amount, 0);\r\n\r\nconst reducer = (state, action) => {\r\n    console.log(action);\r\n    switch(action.type) {\r\n      \r\n      case \"ADD_TO_BASKET\":\r\n        return { \r\n          ...state,\r\n        basket: [...state.basket, action.item],\r\n       };  \r\n       \r\n       case \"EMPTY_BASKET\":\r\n         return {\r\n           ...state,\r\n           basket: []\r\n         }\r\n    case \"REMOVE_FROM_BASKET\":\r\n    \r\n  const index = state.basket.findIndex(\r\n      (basketItem) => basketItem.id === action.id\r\n      );\r\n      let newBasket = [...state.basket];\r\n    if (index >= 0) {\r\n      \r\n      newBasket.splice(index, 1);\r\n    } else {\r\n      console.warn(\r\n        'Cant remove product (id: ${action.id}) as its not in basket!'\r\n      )\r\n    }\r\n    return { \r\n      ...state, \r\n      basket: newBasket,\r\n    }\r\n\r\n    case \"SET_USER\": \r\n       return {\r\n         ...state,\r\n         user: action.user\r\n       }\r\n\r\n         default:\r\n         return state;\r\n  }\r\n};\r\n\r\nexport default reducer;\r\n\r\n\r\n// go and check out books in context API\r\n// Redux is very confusing\r\n// learning the reducer method is like\r\n// a transition from being a normal developer and a pro","import React from \"react\";\r\nimport \"./Subtotal.css\";\r\nimport CurrencyFormat from \"react-currency-format\";\r\nimport { useStateValue } from \"./StateProvider\";\r\nimport { getBasketTotal } from \"./reducer\";\r\n\r\nfunction Subtotal() {\r\n  const [{ basket }, dispatch] = useStateValue();\r\n\r\n  return(\r\n     <div className=\"subtotal\">\r\n   \r\n       <CurrencyFormat\r\n       renderText={(value) => (\r\n         <>\r\n         <p>\r\n    Subtotal ({basket.length} items): <strong>{value}</strong> \r\n    </p>\r\n    <small className=\"subtotal__gift\">\r\n      <input type=\"checkbox\" /> This order contains a gift\r\n    </small>\r\n    </>\r\n      \r\n     \r\n      \r\n       \r\n      \r\n      \r\n       )}\r\n           decimalScale={2}\r\n           value={getBasketTotal(basket)}\r\n           displayType={\"text\"}\r\n           thousandSeperator={true}\r\n           prefix={\"$\"}\r\n       />\r\n\r\n         <button>Proceed to Checkout</button>\r\n     </div>\r\n\r\n  );\r\n  \r\n}\r\nexport default Subtotal;","import React from \"react\";\r\nimport \"./CheckoutProduct.css\";\r\nimport { useStateValue } from \"./StateProvider\";\r\n\r\nfunction CheckoutProduct({id, title, image, price, rating, hideButton }) {\r\n    const [{ basket }, dispatch] = useStateValue();\r\n\r\n    \r\n    \r\n     const removeFromBasket = () => {\r\n         dispatch({\r\n       type: \"REMOVE_FROM_BASKET\",\r\n       id: id,\r\n         })\r\n     }\r\n\r\n    return (\r\n        <div className=\"checkoutProduct\">\r\n   <img className=\"checkoutProduct__image\" src={image} />\r\n\r\n   <div className=\"checkoutProduct__info\">\r\n     <p className=\"checkoutProduct__title\">{title}</p>\r\n       \r\n      <p className=\"checkoutProduct__price\">\r\n          <small>$</small>\r\n          <strong>{price}</strong>\r\n          </p> \r\n          <div className=\"checkoutProduct__rating\"> \r\n      \r\n          {Array(rating)\r\n          .fill()\r\n          .map((_, i) => (\r\n          <p>🌟</p>\r\n          ))}\r\n        </div>\r\n        {!hideButton && (\r\n        <button onClick={removeFromBasket}>Remove from basket</button>\r\n        )}\r\n        </div>\r\n</div>\r\n\r\n    )\r\n}\r\n\r\nexport default CheckoutProduct","import React from \"react\";\r\nimport \"./Checkout.css\";\r\nimport Subtotal from \"./Subtotal\";\r\nimport { useStateValue } from \"./StateProvider\";\r\nimport CheckoutProduct from \"./CheckoutProduct\";\r\n\r\nfunction Checkout() {\r\n  const [{ basket, user }, dispatch] = useStateValue();\r\n\r\n  return (\r\n    <div className=\"checkout\">\r\n      <div className=\"checkout__left\">\r\n        <img\r\n          className=\"checkout__ad\"\r\n          src=\"https://images-na.ssl-images-amazon.com/images/G/02/UK_CCMP/TM/OCC_Amazon1._CB423492668_.jpg\"\r\n          alt=\"\"\r\n        />\r\n\r\n        <div>\r\n          <h3>Hello, {user?.email}</h3>\r\n          <h2 className=\"checkout__title\">Your shopping Basket is empty</h2>\r\n          <p>\r\n             You have no items in your basket. To buy one or more items, click\r\n             \"Add to basket\" next to the item.\r\n\r\n             </p>\r\n\r\n          {basket.map(item => (\r\n            <CheckoutProduct\r\n              id={item.id}\r\n              title={item.title}\r\n              image={item.image}\r\n              price={item.price}\r\n              rating={item.rating}\r\n            />\r\n          ))}\r\n\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"checkout__right\">\r\n        <Subtotal />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Checkout;","import React, { useEffect } from \"react\";\nimport './App.css';\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport Header from\"./Header\";\nimport Home from \"./Home\";\nimport Login from \"./Login\";\nimport Checkout from \"./Checkout\";\nimport { useStateValue } from \"./StateProvider\";\nimport { auth } from \"./firebase\";\n\n\nfunction App() {\n  const [{ user }, dispatch] = useStateValue();\n  \n  useEffect(() => {\n      const unsubscribe = auth.onAuthStateChanged((authUser) => {\n        if (authUser) {\n           dispatch({\n             type: \"SET_USER\",\n             user: authUser,\n           });\n        } else {\n          \n           dispatch({\n             type: \"SET_USER\",\n             user: null,\n           });\n\n        }\n      });\n\n    return () => {\n      unsubscribe();\n    };\n  }, []);\n\n   console.log(\"USER IS >>> \", user);\n\n  return (\n    <Router>\n    <div className=\"app\">\n   <Switch>\n      <Route path=\"/checkout\">\n        <Header />\n        <Checkout />\n      </Route>\n      <Route path=\"/login\">\n        <Login />\n      </Route>\n            { /* This is the default route */}\n      <Route path=\"/\">\n        <Header />\n          <Home />\n           </Route>\n   </Switch>\n    </div>\n  </Router>\n  );\n}\n\n  \n\n\n\n\n\n\n\n{/* We NEED React-ROUTER  */} \n\n\n\n  {/* localhost.com  */}\n\n\n  {/* localhost.com/checkout */}\n\n\n\n  {/* localhost.com/login  */}\n\nexport default App;\n\n\n\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport \"./index.css\";\nimport App from './App';\n\nimport { StateProvider } from \"./StateProvider\";\nimport reducer, { initialState }  from \"./reducer\";\n\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <StateProvider initialState= {initialState} reducer={reducer}>\n    <App />\n    </StateProvider>\n    \n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}